schema: '2.0'
stages:
  data_ingestion:
    cmd: python -c "from BT_Classification.pipeline import 
      DataIngestionTrainingPipeline; DataIngestionTrainingPipeline().main()"
    deps:
    - path: BT_Classification/components/stage_00_data_ingestion.py
      hash: md5
      md5: 670f668b82330f8216896b35643611f5
      size: 11688
    - path: BT_Classification/seed_config.py
      hash: md5
      md5: b1e01f8b4bf2689e4e8f4a0267d405f1
      size: 2276
    - path: config/config.yaml
      hash: md5
      md5: 1fbdc842b8de1b00165ee1ad8ab5b74d
      size: 1513
    outs:
    - path: artifacts/data_ingestion/testing
      hash: md5
      md5: 8b17d7ee8019891d6d308f570a6c2b2b.dir
      size: 13375930
      nfiles: 394
    - path: artifacts/data_ingestion/training
      hash: md5
      md5: 115ba59527aaaa7bb4d5009e3ef34067.dir
      size: 79703413
      nfiles: 2870
  prepare_base_model:
    cmd: python -c "from BT_Classification.pipeline import 
      PrepareBaseModelTrainingPipeline; 
      PrepareBaseModelTrainingPipeline().main()"
    deps:
    - path: BT_Classification/components/stage_01_prepare_base_model.py
      hash: md5
      md5: 4cbcc3b49e6cab7011eb0491c9e0ae24
      size: 9289
    - path: BT_Classification/seed_config.py
      hash: md5
      md5: b1e01f8b4bf2689e4e8f4a0267d405f1
      size: 2276
    - path: config/config.yaml
      hash: md5
      md5: 1fbdc842b8de1b00165ee1ad8ab5b74d
      size: 1513
    - path: params.yaml
      hash: md5
      md5: 5425ff48b7b4110f12c89aa3578ca7a1
      size: 312
    params:
      params.yaml:
        CLASSES: 4
        IMAGE_SIZE:
        - 224
        - 224
        - 3
        INCLUDE_TOP: false
        LEARNING_RATE: 0.0005
        WEIGHTS: imagenet
    outs:
    - path: artifacts/prepare_base_model/base_model.keras
      hash: md5
      md5: 94c02dcd5e89101f04e01c8c456005c5
      size: 9601617
    - path: artifacts/prepare_base_model/base_model_updated.keras
      hash: md5
      md5: 046d30f78908870943662388aea03a73
      size: 11092818
  training:
    cmd: python -c "from BT_Classification.pipeline import 
      ModelTrainingPipeline; ModelTrainingPipeline().main()"
    deps:
    - path: BT_Classification/components/stage_02_model_trainer.py
      hash: md5
      md5: 27aa4768e2da04db355d3d3995d24391
      size: 18889
    - path: BT_Classification/seed_config.py
      hash: md5
      md5: b1e01f8b4bf2689e4e8f4a0267d405f1
      size: 2276
    - path: artifacts/data_ingestion/training
      hash: md5
      md5: 115ba59527aaaa7bb4d5009e3ef34067.dir
      size: 79703413
      nfiles: 2870
    - path: artifacts/prepare_base_model/base_model_updated.keras
      hash: md5
      md5: 046d30f78908870943662388aea03a73
      size: 11092818
    - path: config/config.yaml
      hash: md5
      md5: 1fbdc842b8de1b00165ee1ad8ab5b74d
      size: 1513
    - path: params.yaml
      hash: md5
      md5: 5425ff48b7b4110f12c89aa3578ca7a1
      size: 312
    params:
      params.yaml:
        AUGMENTATION: true
        BATCH_SIZE: 8
        EPOCHS: 35
        IMAGE_SIZE:
        - 224
        - 224
        - 3
        LEARNING_RATE: 0.0005
    outs:
    - path: artifacts/training/model.keras
      hash: md5
      md5: c1b71d8b48dce89ebb76bb183f970b1e
      size: 28921058
  evaluation:
    cmd: python -c "from BT_Classification.pipeline import 
      ModelEvaluationPipeline; ModelEvaluationPipeline().main()"
    deps:
    - path: BT_Classification/components/stage_03_model_evaluation.py
      hash: md5
      md5: 2b6d27bb13495fad2c5861810892a0eb
      size: 17471
    - path: BT_Classification/seed_config.py
      hash: md5
      md5: b1e01f8b4bf2689e4e8f4a0267d405f1
      size: 2276
    - path: artifacts/data_ingestion/testing
      hash: md5
      md5: 8b17d7ee8019891d6d308f570a6c2b2b.dir
      size: 13375930
      nfiles: 394
    - path: artifacts/training/model.keras
      hash: md5
      md5: c1b71d8b48dce89ebb76bb183f970b1e
      size: 28921058
    - path: config/config.yaml
      hash: md5
      md5: 1fbdc842b8de1b00165ee1ad8ab5b74d
      size: 1513
    - path: params.yaml
      hash: md5
      md5: 5425ff48b7b4110f12c89aa3578ca7a1
      size: 312
    params:
      params.yaml:
        BATCH_SIZE: 8
        IMAGE_SIZE:
        - 224
        - 224
        - 3
    outs:
    - path: artifacts/evaluation/confusion_matrix.png
      hash: md5
      md5: d90abd7c4393b2ad839650e944bafa37
      size: 134744
    - path: artifacts/evaluation/roc_curves.png
      hash: md5
      md5: 0c61f301bba0cafa3df8e166c38edeca
      size: 220545
    - path: artifacts/evaluation/scores.json
      hash: md5
      md5: 855db15bf8d637bdb237fa81b06ad490
      size: 1395
