schema: '2.0'
stages:
  data_ingestion:
    cmd: python -c "from BT_Classification.pipeline import 
      DataIngestionTrainingPipeline; DataIngestionTrainingPipeline().main()"
    deps:
    - path: BT_Classification/components/stage_00_data_ingestion.py
      hash: md5
      md5: 670f668b82330f8216896b35643611f5
      size: 11688
    - path: BT_Classification/seed_config.py
      hash: md5
      md5: b1e01f8b4bf2689e4e8f4a0267d405f1
      size: 2276
    - path: config/config.yaml
      hash: md5
      md5: ae053f606c5a9fe2cc537bee219be82a
      size: 1510
    outs:
    - path: artifacts/data_ingestion/testing
      hash: md5
      md5: 67b65c87385cbe73ace16fd01ce16167.dir
      size: 26155243
      nfiles: 1311
    - path: artifacts/data_ingestion/training
      hash: md5
      md5: c9e7f1257a19fab865eed79bd94138b3.dir
      size: 132449254
      nfiles: 5712
  prepare_base_model:
    cmd: python -c "from BT_Classification.pipeline import 
      PrepareBaseModelTrainingPipeline; 
      PrepareBaseModelTrainingPipeline().main()"
    deps:
    - path: BT_Classification/components/stage_01_prepare_base_model.py
      hash: md5
      md5: 4cbcc3b49e6cab7011eb0491c9e0ae24
      size: 9289
    - path: BT_Classification/seed_config.py
      hash: md5
      md5: b1e01f8b4bf2689e4e8f4a0267d405f1
      size: 2276
    - path: config/config.yaml
      hash: md5
      md5: ae053f606c5a9fe2cc537bee219be82a
      size: 1510
    - path: params.yaml
      hash: md5
      md5: 5425ff48b7b4110f12c89aa3578ca7a1
      size: 312
    params:
      params.yaml:
        CLASSES: 4
        IMAGE_SIZE:
        - 224
        - 224
        - 3
        INCLUDE_TOP: false
        LEARNING_RATE: 0.0005
        WEIGHTS: imagenet
    outs:
    - path: artifacts/prepare_base_model/base_model.keras
      hash: md5
      md5: ea6a9526c661df3f739f20fbbe7eff00
      size: 9601617
    - path: artifacts/prepare_base_model/base_model_updated.keras
      hash: md5
      md5: a87f24f218302a42c8683f4d34a2e12e
      size: 11092818
  training:
    cmd: python -c "from BT_Classification.pipeline import 
      ModelTrainingPipeline; ModelTrainingPipeline().main()"
    deps:
    - path: BT_Classification/components/stage_02_model_trainer.py
      hash: md5
      md5: 27aa4768e2da04db355d3d3995d24391
      size: 18889
    - path: BT_Classification/seed_config.py
      hash: md5
      md5: b1e01f8b4bf2689e4e8f4a0267d405f1
      size: 2276
    - path: artifacts/data_ingestion/training
      hash: md5
      md5: c9e7f1257a19fab865eed79bd94138b3.dir
      size: 132449254
      nfiles: 5712
    - path: artifacts/prepare_base_model/base_model_updated.keras
      hash: md5
      md5: a87f24f218302a42c8683f4d34a2e12e
      size: 11092818
    - path: config/config.yaml
      hash: md5
      md5: ae053f606c5a9fe2cc537bee219be82a
      size: 1510
    - path: params.yaml
      hash: md5
      md5: 5425ff48b7b4110f12c89aa3578ca7a1
      size: 312
    params:
      params.yaml:
        AUGMENTATION: true
        BATCH_SIZE: 8
        EPOCHS: 35
        IMAGE_SIZE:
        - 224
        - 224
        - 3
        LEARNING_RATE: 0.0005
    outs:
    - path: artifacts/training/model.keras
      hash: md5
      md5: 5c92a93a47726e450a06eaf71278ef07
      size: 28921058
  evaluation:
    cmd: python -c "from BT_Classification.pipeline import 
      ModelEvaluationPipeline; ModelEvaluationPipeline().main()"
    deps:
    - path: BT_Classification/components/stage_03_model_evaluation.py
      hash: md5
      md5: 2b6d27bb13495fad2c5861810892a0eb
      size: 17471
    - path: BT_Classification/seed_config.py
      hash: md5
      md5: b1e01f8b4bf2689e4e8f4a0267d405f1
      size: 2276
    - path: artifacts/data_ingestion/testing
      hash: md5
      md5: 67b65c87385cbe73ace16fd01ce16167.dir
      size: 26155243
      nfiles: 1311
    - path: artifacts/training/model.keras
      hash: md5
      md5: 5c92a93a47726e450a06eaf71278ef07
      size: 28921058
    - path: config/config.yaml
      hash: md5
      md5: ae053f606c5a9fe2cc537bee219be82a
      size: 1510
    - path: params.yaml
      hash: md5
      md5: 5425ff48b7b4110f12c89aa3578ca7a1
      size: 312
    params:
      params.yaml:
        BATCH_SIZE: 8
        IMAGE_SIZE:
        - 224
        - 224
        - 3
    outs:
    - path: artifacts/evaluation/confusion_matrix.png
      hash: md5
      md5: 2939d96f50ceb17c119e5aef027716f2
      size: 134030
    - path: artifacts/evaluation/roc_curves.png
      hash: md5
      md5: a4fbe06df04ad4e3c7cc397537c7a8ab
      size: 215723
    - path: artifacts/evaluation/scores.json
      hash: md5
      md5: 42e11ab8277f4c8b217c4d33aa90baa1
      size: 1329
